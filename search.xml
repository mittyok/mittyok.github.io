<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Spring cloud stream binder rabbitmq]]></title>
      <url>https://mittyok.github.io/2016/12/28/Spring%20cloud%20stream%20binder%20rabbitmq/</url>
      <content type="html"><![CDATA[<h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-cloud-stream-binder-rabbit&lt;/artifactId&gt;</div><div class="line">&lt;/dependency&gt;</div><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[RabbitMQ性能及扩展性的提升-路由拓扑结构]]></title>
      <url>https://mittyok.github.io/2016/12/28/RabbitMQ%E6%80%A7%E8%83%BD%E5%8F%8A%E6%89%A9%E5%B1%95%E6%80%A7%E7%9A%84%E6%8F%90%E5%8D%87-%E8%B7%AF%E7%94%B1%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84/</url>
      <content type="html"><![CDATA[<blockquote>
<p><a href="https://spring.io/blog/2011/04/01/routing-topologies-for-performance-and-scalability-with-rabbitmq/" target="_blank" rel="external">原文</a></p>
</blockquote>
<p>为了实现系统的高伸缩性，我们需要设计一个合适的路由拓扑。我们需要考虑很多的细节，比如：消息实现环境中存在的问题及限制，性能策略等。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Resizing a VirtualBox Virtual Machine (Debian) hard disk with LVM]]></title>
      <url>https://mittyok.github.io/2016/12/09/Resizing%20a%20VirtualBox%20Virtual%20Machine%20(Debian)%20hard%20disk%20with%20LVM/</url>
      <content type="html"><![CDATA[<h2 id="磁盘相关的一些命令"><a href="#磁盘相关的一些命令" class="headerlink" title="磁盘相关的一些命令"></a>磁盘相关的一些命令</h2><blockquote>
<p>fdisk -l</p>
<p>df</p>
</blockquote>
<h2 id="Hard-disk-format-vmdk-to-vdi"><a href="#Hard-disk-format-vmdk-to-vdi" class="headerlink" title="Hard disk format: vmdk to vdi"></a>Hard disk format: vmdk to vdi</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">VBoxManage clonehd disk.vmdk disk.vdi --format vdi</div></pre></td></tr></table></figure>
<h2 id="Hard-disk-resize"><a href="#Hard-disk-resize" class="headerlink" title="Hard disk resize"></a>Hard disk resize</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vboxmanage modifyhd --resize 20000 ./New_VM.vdi</div></pre></td></tr></table></figure>
<h2 id="Resize-the-partition"><a href="#Resize-the-partition" class="headerlink" title="Resize the partition"></a>Resize the partition</h2><h3 id="Download-Gparted-iso"><a href="#Download-Gparted-iso" class="headerlink" title="Download Gparted.iso"></a>Download Gparted.iso</h3><p><a href="http://gparted.org/download.php" target="_blank" rel="external">Download GParted</a></p>
<blockquote>
<p>启动时加载GParted.iso，就可以进行分区管理啦。。。</p>
</blockquote>
<p><font color="red"><em>资料：</em></font></p>
<blockquote>
<p>大家可以看下这里学习一下：<br><a href="https://wiki.archlinux.org/index.php/LVM_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="external">LVM相关介绍</a>)</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[spring cloud dataflow 入门]]></title>
      <url>https://mittyok.github.io/2016/12/02/spring-cloud-dataflow-%E5%85%A5%E9%97%A8/</url>
      <content type="html"><![CDATA[<h2 id="最初为什么选择Spring"><a href="#最初为什么选择Spring" class="headerlink" title="最初为什么选择Spring"></a>最初为什么选择Spring</h2><ul>
<li>make j2ee easier</li>
<li>loose-coupling through interfaces, dependency injection, aspect-oriented programming</li>
<li>sought to make the entire java ecosystem easier</li>
<li>security, various types of database, data integration, and now cloud-native microservices</li>
<li>spring is headed now with regard to reactive programming.</li>
</ul>
<h2 id="H2"><a href="#H2" class="headerlink" title="H2"></a>H2</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">The development of H2 was started in May 2004, but it was first published on December 14th 2005. The main author of H2, Thomas Mueller, is also the original developer of Hypersonic SQL. In 2001, he joined PointBase Inc. where he wrote PointBase Micro, a commercial Java SQL database. At that point, he had to discontinue Hypersonic SQL. The HSQLDB Group was formed to continued to work on the Hypersonic SQL codebase. The name H2 stands for Hypersonic 2, however H2 does not share code with Hypersonic SQL or HSQLDB. H2 is built from scratch.</div></pre></td></tr></table></figure>
<h2 id="Spring-Cloud-Task"><a href="#Spring-Cloud-Task" class="headerlink" title="Spring Cloud Task"></a>Spring Cloud Task</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Spring Cloud Task allows a user to develop and run short lived microservices using Spring Cloud and run them locally, in the cloud, even on Spring Cloud Data Flow. Just add @EnableTask and run your app as a Spring Boot app (single application context).</div></pre></td></tr></table></figure>
<h2 id="Task-Demo"><a href="#Task-Demo" class="headerlink" title="Task Demo"></a>Task Demo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">@SpringBootApplication</div><div class="line">@EnableTask</div><div class="line">public class SampleTask &#123;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    CommandLineRunner commandLineRunner() &#123;</div><div class="line">        return new HelloWorldCommandLineRunner();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        SpringApplication.run(SampleTask.class, args);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private class HelloWorldCommandLineRunner implements CommandLineRunner &#123;</div><div class="line"></div><div class="line">        @Override</div><div class="line">        public void run(String... strings) throws Exception &#123;</div><div class="line">            System.out.println(&quot;Hello World!&quot;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Spring-Batch"><a href="#Spring-Batch" class="headerlink" title="Spring Batch"></a>Spring Batch</h2><p>在一些特定的情况下，我们会有这样的需求，我们需要批量的执行一些业务操作。这些业务操作一般都有这样的特点：</p>
<ol>
<li>涉及到的数据量较大</li>
<li>不需要人工干预</li>
<li>处理较为复杂</li>
<li>需要自动的处理</li>
</ol>
<p>典型的操作如：日结或者月结的一些计算，通知等类似的场景。。。</p>
<h3 id="典型的场景"><a href="#典型的场景" class="headerlink" title="典型的场景"></a>典型的场景</h3><ol>
<li>周期性的批量处理</li>
<li>并行作业</li>
<li>基于消息驱动的业务处理</li>
<li>失败后支持手动或者定时重启的场景</li>
<li>一些步骤需要按顺序执行的</li>
<li>作业需要支持事务的情况</li>
</ol>
<h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><p>1 Job = Many Steps<br>1 Step = 1 REAT-PROCESS-WRITE or 1 Tasklet</p>
<p>Job = {Step 1 -&gt; Step 2 -&gt; Step 3}</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>Example code.</p>
<h3 id="Main-Class"><a href="#Main-Class" class="headerlink" title="Main Class"></a>Main Class</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@EnableTask</div><div class="line">@EnableBatchProcessing</div><div class="line">@SpringBootApplication</div><div class="line">public class BatchJobApplication &#123;</div><div class="line"> </div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        SpringApplication.run(BatchJobApplication.class, args);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Job-Configuration"><a href="#Job-Configuration" class="headerlink" title="Job Configuration"></a>Job Configuration</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">@Configuration</div><div class="line">public class JobConfiguration &#123;</div><div class="line"> </div><div class="line">    private static Log logger</div><div class="line">      = LogFactory.getLog(JobConfiguration.class);</div><div class="line"> </div><div class="line">    @Autowired</div><div class="line">    public JobBuilderFactory jobBuilderFactory;</div><div class="line"> </div><div class="line">    @Autowired</div><div class="line">    public StepBuilderFactory stepBuilderFactory;</div><div class="line"> </div><div class="line">    @Bean</div><div class="line">    public Job job() &#123;</div><div class="line">        return jobBuilderFactory.get(&quot;job&quot;)</div><div class="line">          .start(stepBuilderFactory.get(&quot;jobStep1&quot;)</div><div class="line">          .tasklet(new Tasklet() &#123;</div><div class="line">             </div><div class="line">              @Override</div><div class="line">              public RepeatStatus execute(StepContribution contribution, </div><div class="line">                ChunkContext chunkContext) throws Exception &#123;</div><div class="line">                 </div><div class="line">                logger.info(&quot;Job was run&quot;);</div><div class="line">                return RepeatStatus.FINISHED;</div><div class="line">              &#125;</div><div class="line">        &#125;).build()).build();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Chunk-Oriented-Processing"><a href="#Chunk-Oriented-Processing" class="headerlink" title="Chunk-Oriented Processing"></a>Chunk-Oriented Processing</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Chunk oriented processing refers to reading the data one at a time, and creating &apos;chunks&apos; that will be written out, within a transaction boundary.</div></pre></td></tr></table></figure>
<h2 id="Spring-Cloud-Dataflow"><a href="#Spring-Cloud-Dataflow" class="headerlink" title="Spring Cloud Dataflow"></a>Spring Cloud Dataflow</h2><h3 id="Tap"><a href="#Tap" class="headerlink" title="Tap"></a>Tap</h3>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Axon Framework 介绍]]></title>
      <url>https://mittyok.github.io/2016/12/02/Axon_Framework_%E4%BB%8B%E7%BB%8D/</url>
      <content type="html"><![CDATA[<p>Axon Framework设计最初的想法，就是设计一个框架，能够帮助开发者解决应用的可扩展和可伸缩性，使开发者不用太关心太多的技术细节，而是把这些事情交由框架本身来关心。</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><p>随着时间的前行，我们发现，软件产品的需求，无论是功能性的还是非功能性的都在快速的增长。企业不再仅仅是通过宣传册来大力宣传业务，更希望他们的产品能够与业务与时俱进。这不仅仅意味着项目和代码可能会越来越复杂，更意味着软件的功能设计要不断的增加、改变甚至移除。最令人心烦的是，有时候表面上看起来非常容易实现的一个特性，却需要开发团队对整个应用拆分和理解。而且，当今的网络应用的目标都是能应对几十亿的潜在用户，这就使得可扩展性成为一个不可争辩的一个需求。</p>
<p>目前已经有很多的应用和框架在尝试解决应用的可扩展性问题，比如：GigaSpaces、Terracotta，但是这些框架有一个明显的问题，他们在尝试解决问题的同时，让开发者依然使用开发者熟悉的分层架构，在某些情况下，甚至限制和阻止开发者使用一个真正的域模型，强迫开发者将所有的业务逻辑放入业务层中。尽管这样做可以很快的搭建起一个应用，但是慢慢的会导致应用越来越复杂，开发越来越慢。</p>
<p>Greg Young第一次提到了Command Query Responsiblity Segregation (CQRS)模式，通过改变应用的架构来解决这些问题。CQRS并不通过层来划分业务，而是基于读或者写来划分业务。这就意味着执行写的组件和执行读的组件是完全分开的。这样做的一个很重要的原因是应用的读和写对技术的或者是非技术的需求是完全不同的。Command执行后，查询组件会使用特定的事件进行同步或者异步的更新操作。正是这种通过事件更新的机制使得应用在框架上更容易延伸和扩展，最终也会更利于维护。</p>
<blockquote>
<p><img src="http://ogj4ygzvp.bkt.clouddn.com/note.png" alt="">Note：这里我们不会花大部分时间来讲CQRS，如果你想更多的了解CQRS，可以访问这里：<a href="http://www.axonframework.org/" target="_blank" rel="external">www.axonframework.org</a>，这里有一些背景介绍的一些链接。</p>
</blockquote>
<p>可以看到，CQRS与我们当今主流的开发结构有很大的差距，自然就很难理解。对于开发者而言，学习使用这种架构走一些弯路就再正常不过了。这也正是Axon Framework诞生的初衷：帮助开发者轻松的事项CQRS模式，从而把更多的时间和精力花在实际业务上。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[耳机煲机技巧]]></title>
      <url>https://mittyok.github.io/2016/11/24/%E8%80%B3%E6%9C%BA%E7%85%B2%E6%9C%BA%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<blockquote>
<p><em>注意啦。。。</em> </p>
<blockquote>
<p>这个是和Sony耳机客服处要的煲机方式，不一定适合所有人，仅供大家参考。。。</p>
</blockquote>
</blockquote>
<h2 id="煲机方法："><a href="#煲机方法：" class="headerlink" title="煲机方法："></a>煲机方法：</h2><ol>
<li>舒筋——使用正常听音强度三分之一的音量驱动耳机12小时； </li>
<li>通络——使用正常听音强度三分之二的音量驱动耳机12小时； </li>
<li>习武——使用正常听音强度驱动耳机72小时； </li>
<li>打擂——使用正常听音强度三分之四的音量驱动耳机24小时； </li>
<li>出道——进入正常使用阶段。正常音就是你耳朵听上去最舒服的音量 请参考以上煲机方法</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Schema-Generator-By-JPA]]></title>
      <url>https://mittyok.github.io/2016/11/16/Schema-Generator-By-JPA/</url>
      <content type="html"><![CDATA[<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">&lt;!-- /////// START JPA Schema Generator --&gt;</div><div class="line">&lt;plugin&gt;</div><div class="line">    &lt;groupId&gt;io.github.divinespear&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;jpa-schema-maven-plugin&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;0.2.0&lt;/version&gt;</div><div class="line">    &lt;executions&gt;</div><div class="line">    &lt;/executions&gt;</div><div class="line">    &lt;configuration&gt;</div><div class="line">    &lt;jdbcUrl&gt;这里配置jdbcurl&lt;/jdbcUrl&gt;</div><div class="line">    &lt;jdbcUser&gt;数据库用户名&lt;/jdbcUser&gt;</div><div class="line">    &lt;jdbcPassword&gt;数据库密码&lt;/jdbcPassword&gt;</div><div class="line">    &lt;!-- 这里需要指定JPA的实现提供者 --&gt;</div><div class="line">    &lt;vendor&gt;hibernate&lt;/vendor&gt;</div><div class="line">    &lt;!--&lt;databaseAction&gt;create&lt;/databaseAction&gt;--&gt;</div><div class="line">    &lt;scriptAction&gt;drop-and-create&lt;/scriptAction&gt;</div><div class="line">    &lt;!--&lt;scriptAction&gt;$&#123;AAA&#125;&lt;/scriptAction&gt;--&gt;</div><div class="line">    &lt;packageToScan&gt;指定要扫描实体的包路径&lt;/packageToScan&gt;</div><div class="line">    &lt;properties&gt;</div><div class="line">        &lt;hibernate.dialect&gt;org.hibernate.dialect.MySQL5Dialect&lt;/hibernate.dialect&gt;</div><div class="line">    &lt;/properties&gt;</div><div class="line">&lt;/configuration&gt;</div><div class="line">    &lt;dependencies&gt;</div><div class="line">        &lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;2.6.4&lt;/version&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;5.0.9.Final&lt;/version&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;5.0.9.Final&lt;/version&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;1.0.0.Final&lt;/version&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;5.1.39&lt;/version&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">    &lt;/dependencies&gt;</div><div class="line">&lt;/plugin&gt;</div><div class="line">&lt;!-- JPA Schema Generator END ///////// --&gt;</div></pre></td></tr></table></figure>
<p>相关配置可以参照：<a href="http://divinespear.github.io/jpa-schema-maven-plugin/generate-mojo.html" target="_blank" rel="external">jpa-schema-plugin</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hazelcast_Jcache_Implementation]]></title>
      <url>https://mittyok.github.io/2016/11/14/Hazelcast-Jcache-Implementation/</url>
      <content type="html"><![CDATA[<h2 id="加入JCache依赖"><a href="#加入JCache依赖" class="headerlink" title="加入JCache依赖"></a>加入JCache依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">  &lt;groupId&gt;javax.cache&lt;/groupId&gt;</div><div class="line">  &lt;artifactId&gt;cache-api&lt;/artifactId&gt;</div><div class="line">  &lt;version&gt;1.0.0&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure>
<h2 id="加入Hazelcast依赖"><a href="#加入Hazelcast依赖" class="headerlink" title="加入Hazelcast依赖"></a>加入Hazelcast依赖</h2><ol>
<li>If hazelcast-\<version>.jar is added to the classpath, Hazelcast can only be used as a server provider.</version></li>
<li>If hazelcast-client-\<version>.jar is added to the classpath, default provider is the client one.</version></li>
<li>If hazelcast-all-\<version>.jar is added to the classpath, default provider is again the client one.</version></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spring Cloud -- Config]]></title>
      <url>https://mittyok.github.io/2016/11/13/Spring-Cloud-Config/</url>
      <content type="html"><![CDATA[<h2 id="什么是Spring-Cloud-Config"><a href="#什么是Spring-Cloud-Config" class="headerlink" title="什么是Spring Cloud Config"></a>什么是Spring Cloud Config</h2><p>Config主要是为了解决分布式应用中的配置管理问题。Spring Cloud Config对配置进行集中化管理，提供了Server端和Client端的解决方案。所有的应用和服务都可以通过Server端管理、访问自己的配置。而且，Server端的配置我们还可以通过<code>版本管理工具</code>管理起来。</p>
<h2 id="为什么需要Config"><a href="#为什么需要Config" class="headerlink" title="为什么需要Config"></a>为什么需要Config</h2><p>曾几何时，我们把配置直接硬编码到我们的代码中，中途我们发现，配置一遍，我们就要改代码，重新构建工程，重新部署。于是我们聪明了一些，把配置写到配置文件中，这样不用改代码了，不用重新构建工程，但是依然不是那么愉快，我们还是要重新部署应用来使新的配置生效。好吧，我姑且接受这个现实吧。。。</p>
<p>突然有一天，我们发现，为了应对日益增长的访问量，一不小心，一盒应用我们部署了很多实例。。。别太美，我们发现改配置的话好麻烦啊，因为每一个实例中对应的配置都要修改，重新打包，重启。。。</p>
<p>突然，背后一阵凉风。。。ʘ‿ʘ</p>
<p>多么希望能有一个统一的地方用来管理配置。。。暂时就这么点需求。</p>
<p>好吧，Spring Cloud Config来满足你。</p>
<h2 id="简单搭建一个Config-Server"><a href="#简单搭建一个Config-Server" class="headerlink" title="简单搭建一个Config Server"></a>简单搭建一个Config Server</h2><ol>
<li>打开<a href="https://start.spring.io/" target="_blank" rel="external">SPRING INITIALIZR</a><br><img src="http://ogj4ygzvp.bkt.clouddn.com/SPRING%20INITIALIZR%20.png" alt=""></li>
<li>添加了Config Server的依赖</li>
<li>点击：Generate Project</li>
<li>解压产生的项目，看一下项目结构：<br><img src="http://ogj4ygzvp.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-13%20%E4%B8%8B%E5%8D%885.15.31.png" alt=""></li>
<li>编辑DemoApplication.java,划线的地方是新加入的<br><img src="http://ogj4ygzvp.bkt.clouddn.com/config%20server%20enable.png" alt=""></li>
<li>resources下加入：bootstrap.yml</li>
</ol>
<ul>
<li>配置config server使用本地配置提供服务，具体配置如下：<br><img src="http://ogj4ygzvp.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-13%20%E4%B8%8B%E5%8D%887.15.42.png" alt=""></li>
</ul>
<ol>
<li>resources下加入<code>conf</code>文件夹，建立application.yml文件，加入如下内容：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">application:</div><div class="line">  name: mittyok-test</div></pre></td></tr></table></figure>
<ol>
<li>在目录下执行：<code>./mvnw package</code></li>
<li>到<code>target</code>目录下面</li>
<li><img src="http://ogj4ygzvp.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-13%20%E4%B8%8B%E5%8D%885.28.42.png" alt=""></li>
<li>执行命令<br><code>java -jar demo-0.0.1-SNAPSHOT.jar</code><br><br>我们等待着。。。<br><img src="http://ogj4ygzvp.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-13%20%E4%B8%8B%E5%8D%885.31.48.png" alt=""><br>看到上面这个输出，应该已经启动OK。</li>
</ol>
<h2 id="验证Config-Server-OK"><a href="#验证Config-Server-OK" class="headerlink" title="验证Config Server OK"></a>验证Config Server OK</h2><p>我们上面在conf中只放入了一个application.yml文件，这个文件的配置会默认对所有应用有效，我们看一下刚才我们的配置是否被Config Server读取：</p>
<p>访问：<code>http://localhost:8080/application-defualt.yml</code><br>如果能看到如下结果，说明Server已经启动成功啦：</p>
<p><img src="http://ogj4ygzvp.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-13%20%E4%B8%8B%E5%8D%887.32.28.png" alt=""></p>
<h2 id="搭建一个简单的Config-Client"><a href="#搭建一个简单的Config-Client" class="headerlink" title="搭建一个简单的Config Client"></a>搭建一个简单的Config Client</h2><h2 id="Config监控"><a href="#Config监控" class="headerlink" title="Config监控"></a>Config监控</h2><p>有时候我们需要在修改配置后，相关的客户端要refresh，重新加载配置。这个时候，我们需要用到Spring<br>Cloud Bus, Bus负责将Config Server端的事件广播到对应的应用，使应用重新加载配置。</p>
<ul>
<li><p>假设，我们我们通过rabbit作为消息中间件，bus的事件广播渠道，则Config Server端我们需要如下配置：</p>
<p>  <strong>pom.xml</strong></p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 通过此消息中间件广播 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-stream-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 事件总线，监听及处理cloud中的一些事件，如通过/monitor传入的操作 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-bus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 使服务暴露/monitor endpoint 以方便外部触发监听事件 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-config-monitor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>bootstrap.yml</strong></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="attr">spring:</span></div><div class="line"><span class="attr">  rabbitmq:</span></div><div class="line"><span class="attr">    addresses:</span> <span class="number">192.168</span><span class="number">.99</span><span class="number">.100</span>:<span class="number">5672</span> <span class="comment"># rabbitmq地址</span></div><div class="line"><span class="attr">    username:</span> admin <span class="comment"># 用户名</span></div><div class="line"><span class="attr">    password:</span> admin <span class="comment"># 密码</span></div></pre></td></tr></table></figure>
<ul>
<li>Config Client端与服务端配置基本一致，但是不需要暴露/monitor endpoint</li>
</ul>
<blockquote>
<blockquote>
<p><em>注意：</em>两端的事件实体与Json的转换规则上一定要一致，不要出现客户端转化成的json使用hyphon格式（”<code>-</code>“），而服务端用camelcase的形式读取，类似这样的问题。</p>
</blockquote>
</blockquote>
<h2 id="待续"><a href="#待续" class="headerlink" title="待续"></a>待续</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Log4jdbc-Guide]]></title>
      <url>https://mittyok.github.io/2016/10/01/Log4jdbc-Guide/</url>
      <content type="html"><![CDATA[<blockquote>
<p>基于Springboot 1.4</p>
</blockquote>
<h2 id="配置依赖"><a href="#配置依赖" class="headerlink" title="配置依赖"></a>配置依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.bgee.log4jdbc-log4j2/log4jdbc-log4j2 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.bgee.log4jdbc-log4j2<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4jdbc-log4j2-jdbc4.1<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="配置驱动"><a href="#配置驱动" class="headerlink" title="配置驱动"></a>配置驱动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">spring.datasource.driver-class-name: net.sf.log4jdbc.sql.jdbcapi.DriverSpy</div></pre></td></tr></table></figure>
<h2 id="配置Log探测器"><a href="#配置Log探测器" class="headerlink" title="配置Log探测器"></a>配置Log探测器</h2><p>在classpath下建一个文件，命名为：<em>log4jdbc.log4j2.properties</em>。添加如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">log4jdbc.spylogdelegator.name=net.sf.log4jdbc.log.slf4j.Slf4jSpyLogDelegator</div></pre></td></tr></table></figure></p>
<p>OK啦，启动吧，现在应该有效果了。</p>
<p><strong>太详细的，大家再到网上看一下吧。。。</strong></p>
<p><strong><em>需要注意的一些日志配置</em></strong><br>Log4jdbc 用以下几个可以配置的日志种类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">jdbc.sqlonly : 仅记录 SQL</div><div class="line">jdbc.sqltiming ：记录 SQL 以及耗时信息</div><div class="line">jdbc.audit ：记录除了 ResultSet 之外的所有 JDBC 调用信息，会产生大量的记录，有利于调试跟踪具体的 JDBC 问题</div><div class="line">jdbc.resultset ：会产生更多的记录信息，因为记录了 ResultSet 的信息</div><div class="line">jdbc.connection ：记录连接打开、关闭等信息，有利于调试数据库连接相关问题</div></pre></td></tr></table></figure></p>
<p>配置形式可参考如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">log4j.logger.jdbc.sqlonly=OFF</div><div class="line">log4j.logger.jdbc.sqltiming=INFO</div><div class="line">log4j.logger.jdbc.audit=OFF</div><div class="line">log4j.logger.jdbc.resultset=OFF</div><div class="line">log4j.logger.jdbc.connection=OFF</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[jpa-schema-maven-plugin_guide]]></title>
      <url>https://mittyok.github.io/2016/10/01/jpa-schema-maven-plugin-guide/</url>
      <content type="html"><![CDATA[<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- /////// START JPA Schema Generator --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.divinespear<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jpa-schema-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">jdbcUrl</span>&gt;</span>jdbc:mysql://192.168.99.100:3306/dawnorder<span class="tag">&lt;/<span class="name">jdbcUrl</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">jdbcUser</span>&gt;</span>root<span class="tag">&lt;/<span class="name">jdbcUser</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">jdbcPassword</span>&gt;</span>dawn12345678<span class="tag">&lt;/<span class="name">jdbcPassword</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">vendor</span>&gt;</span>hibernate<span class="tag">&lt;/<span class="name">vendor</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--&lt;databaseAction&gt;create&lt;/databaseAction&gt;--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">scriptAction</span>&gt;</span>drop-and-create<span class="tag">&lt;/<span class="name">scriptAction</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--&lt;scriptAction&gt;$&#123;AAA&#125;&lt;/scriptAction&gt;--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">packageToScan</span>&gt;</span>com.huobi.dawn.common.entity<span class="tag">&lt;/<span class="name">packageToScan</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">hibernate.dialect</span>&gt;</span>org.hibernate.dialect.MySQL5Dialect<span class="tag">&lt;/<span class="name">hibernate.dialect</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">executions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.eclipse.persistence<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>eclipselink<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.9.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-entitymanager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.9.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate.javax.persistence<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-jpa-2.1-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.39<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- JPA Schema Generator END ///////// --&gt;</span></div></pre></td></tr></table></figure>
<h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><blockquote>
<p>mvn jpa-schema:generate</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[spring_cloud_introduction]]></title>
      <url>https://mittyok.github.io/2016/09/24/spring-cloud-introduction/</url>
      <content type="html"><![CDATA[<h1 id="Spring-Cloud是个什么鬼"><a href="#Spring-Cloud是个什么鬼" class="headerlink" title="Spring Cloud是个什么鬼"></a>Spring Cloud是个什么鬼</h1><p><em>Spring  Cloud</em>？什么东西，其实没那么神秘。。。你可以把它理解为一个工具集，为我们开发者提供的一套工具集，以方便我们构建稳健的分布式系统。利用这个工具集，我们能够轻松的实现分布式系统实际中常用到的一些设计模式。</p>
<ul>
<li>配置管理</li>
<li>服务注册与发现</li>
<li>断路器</li>
<li>智能路由</li>
<li>控制总线</li>
<li>全局锁</li>
<li>分布式会话管理</li>
<li>分布式集群状态管理</li>
</ul>
<p>Spring Cloud是构建在Spring Boot的基础之上的。通过引入一大堆基于Spring Boot相关的依赖来为单独的一个应用提供对应的功能。我们可以利用Spring Cloud提供的基础实现快速体验一下，当然了，如果我们以后得心应手了，我们可以轻松的做出自己的解决方案，或者对默认方案做一些干预，以达到我们自己的目的。</p>
<h1 id="愉快的开始吧"><a href="#愉快的开始吧" class="headerlink" title="愉快的开始吧"></a>愉快的开始吧</h1><p>先看一看这个POM文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;parent&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;1.3.7.RELEASE&lt;/version&gt;</div><div class="line">&lt;/parent&gt;</div><div class="line">&lt;dependencyManagement&gt;</div><div class="line">    &lt;dependencies&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;Brixton.SR6&lt;/version&gt;</div><div class="line">            &lt;type&gt;pom&lt;/type&gt;</div><div class="line">            &lt;scope&gt;import&lt;/scope&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">    &lt;/dependencies&gt;</div><div class="line">&lt;/dependencyManagement&gt;</div><div class="line">&lt;dependencies&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">&lt;/dependencies&gt;</div></pre></td></tr></table></figure></p>
<p>可以看到，我们只是依赖了一个“spring-cloud-dependencies”，其他的依赖都会在父依赖中体现，也就是在这里：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;parent&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;1.3.7.RELEASE&lt;/version&gt;</div><div class="line">&lt;/parent&gt;</div></pre></td></tr></table></figure></p>
<p>这个例子中使用了config client和eureka。当然了，通过改变artifactId也可以轻松导入其他的功能依赖。<br>我们这样做的方式目前来说是最推荐的，通过依赖管理的方式，我们可以避免遇到更多的坑。</p>
<h1 id="有啥特性呢"><a href="#有啥特性呢" class="headerlink" title="有啥特性呢"></a>有啥特性呢</h1><p>Spring Cloud针对分布式系统设计中典型的用例提供了非常漂亮的开箱即用实现。对于其他不常用的应用场景，Spring Cloud也提供了一些扩展机制，我们可以轻松的搞掉这些场景。</p>
<ul>
<li>分布式/版本化的配置管理</li>
<li>服务的注册发现</li>
<li>路由</li>
<li>服务的端到端的调用</li>
<li>负载均衡</li>
<li>断路器</li>
<li>全局锁</li>
<li>分布式选举和集群状态管理</li>
<li>分布式消息</li>
</ul>
<p>Spring Cloud是通过声明似的方式来获取功能的支持的。通常来说，我们只需要改变相关的依赖，并且加上相关的注解，就可以获取对应的功能。<br>举例来说，在上面的依赖基础之上，我们定义一个具有服务注册和发现特性的应用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@SpringBootApplication</div><div class="line">@EnableDiscoveryClient</div><div class="line">public class Application &#123;</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		SpringApplication.run(Application.class, args);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="Spring-Cloud中的主要项目"><a href="#Spring-Cloud中的主要项目" class="headerlink" title="Spring Cloud中的主要项目"></a>Spring Cloud中的主要项目</h1><h2 id="Spring-Cloud-Config"><a href="#Spring-Cloud-Config" class="headerlink" title="Spring Cloud Config"></a>Spring Cloud Config</h2><p>主要解决外部配置管理的问题。可以通过Git来提供配置源。所有的配置资源会直接映射为Spring的环境变量。所有的配置可以通过http的方式进行访问，所以，对于异构语言平台来说也是一个福音。可以从统一的地方获取配置信息。</p>
<h2 id="Spring-Cloud-Netflix"><a href="#Spring-Cloud-Netflix" class="headerlink" title="Spring Cloud Netflix"></a>Spring Cloud Netflix</h2><p>主要是为了方便与Netflix OSS的组件进行集成。比如说：Eureka，Hystrix，Zuul，Archaius等等。</p>
<h2 id="Spring-Cloud-Bus"><a href="#Spring-Cloud-Bus" class="headerlink" title="Spring Cloud Bus"></a>Spring Cloud Bus</h2><p>提供了一个消息总线，用来为服务与服务实例之间进行分布式消息传递。当我们需要跨领域集群进行状态交互是非常有用的。比如说，如果配置中心配置发生变更后，会有变更事件通知给所有订阅配置服务的应用。这种变更事件就会通过事件总线来进行传输。</p>
<h2 id="Spring-Cloud-for-Cloud-Foundry"><a href="#Spring-Cloud-for-Cloud-Foundry" class="headerlink" title="Spring Cloud for Cloud Foundry"></a>Spring Cloud for Cloud Foundry</h2><p>方便与Pivotal Cloudfoundry集成。集成了服务发现，也可以轻松的实现单点登录和OAuth2，可以创建一个Cloundfoundry的服务broker。</p>
<h2 id="Spring-Cloud-Cloud-Foundry-Service-Broker"><a href="#Spring-Cloud-Cloud-Foundry-Service-Broker" class="headerlink" title="Spring Cloud Cloud Foundry Service Broker"></a>Spring Cloud Cloud Foundry Service Broker</h2><p>提供一个创建服务broker的切入点，服务broker可以管理可以托管于Cloud Foundry的服务。</p>
<h2 id="Spring-Cloud-Cluster"><a href="#Spring-Cloud-Cluster" class="headerlink" title="Spring Cloud Cluster"></a>Spring Cloud Cluster</h2><p>为Zookeeper，Redis，Hazelcast，Consul提供了分布式选举和通用的状态交互模式的实现。</p>
<h2 id="Spring-Cloud-Consul"><a href="#Spring-Cloud-Consul" class="headerlink" title="Spring Cloud Consul"></a>Spring Cloud Consul</h2><p>提供了使用Hashicorp Consul实现的服务发现和配置管理。</p>
<h2 id="Spring-Cloud-Security"><a href="#Spring-Cloud-Security" class="headerlink" title="Spring Cloud Security"></a>Spring Cloud Security</h2><p>主要是安全实现，比如给客户端提供OAuth2的安全机制等。</p>
<h2 id="Spring-Cloud-Sleuth"><a href="#Spring-Cloud-Sleuth" class="headerlink" title="Spring Cloud Sleuth"></a>Spring Cloud Sleuth</h2><p>主要用于分布式tracing，可以与Zipkin，Htrace，ELK一起工作。</p>
<h2 id="Spring-Cloud-Data-Flow"><a href="#Spring-Cloud-Data-Flow" class="headerlink" title="Spring Cloud Data Flow"></a>Spring Cloud Data Flow</h2><p>用于服务编排的一个工具。</p>
<h2 id="Spring-Cloud-Stream"><a href="#Spring-Cloud-Stream" class="headerlink" title="Spring Cloud Stream"></a>Spring Cloud Stream</h2><p>一个轻量级的事件驱动的微服务的框架。</p>
<h2 id="Spring-Cloud-Stream-App-Starters"><a href="#Spring-Cloud-Stream-App-Starters" class="headerlink" title="Spring Cloud Stream App Starters"></a>Spring Cloud Stream App Starters</h2><p>主要用于与外部系统的集成。</p>
<h2 id="Spring-Cloud-Task"><a href="#Spring-Cloud-Task" class="headerlink" title="Spring Cloud Task"></a>Spring Cloud Task</h2><p>主要是为了设计一些生命周期较短的微服务，以方便执行一些有限的数据处理。</p>
<h2 id="Spring-Cloud-Task-App-Starters"><a href="#Spring-Cloud-Task-App-Starters" class="headerlink" title="Spring Cloud Task App Starters"></a>Spring Cloud Task App Starters</h2><p>主要是方便Task与应用集成。</p>
<h2 id="Spring-Cloud-Zookeeper"><a href="#Spring-Cloud-Zookeeper" class="headerlink" title="Spring Cloud Zookeeper"></a>Spring Cloud Zookeeper</h2><p>类似于Consul，只不过是基于Zookeeper的。</p>
<h2 id="Spring-Cloud-for-Amazon-Web-Services"><a href="#Spring-Cloud-for-Amazon-Web-Services" class="headerlink" title="Spring Cloud for Amazon Web Services"></a>Spring Cloud for Amazon Web Services</h2><p>主要是为了方便Amazon Web Services集成。</p>
<h2 id="Spring-Cloud-Connectors"><a href="#Spring-Cloud-Connectors" class="headerlink" title="Spring Cloud Connectors"></a>Spring Cloud Connectors</h2><p>主要是为了方便PAAS平台连接后端的数据库或者消息broker。</p>
<h2 id="Spring-Cloud-Starters"><a href="#Spring-Cloud-Starters" class="headerlink" title="Spring Cloud Starters"></a>Spring Cloud Starters</h2><p>主要是为了使依赖管理做起来更加的容易。</p>
<h2 id="Spring-Cloud-CLI"><a href="#Spring-Cloud-CLI" class="headerlink" title="Spring Cloud CLI"></a>Spring Cloud CLI</h2><p>一套命令行工具，可以轻松的基于groovy语言创建一些服务。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[spring_cloud_introduction]]></title>
      <url>https://mittyok.github.io/2016/09/24/spring-cloud-introduction%E7%9A%84%E5%89%AF%E6%9C%AC/</url>
      <content type="html"><![CDATA[<h1 id="Spring-Cloud是个什么鬼"><a href="#Spring-Cloud是个什么鬼" class="headerlink" title="Spring Cloud是个什么鬼"></a>Spring Cloud是个什么鬼</h1><p><em>Spring  Cloud</em>？什么东西，其实没那么神秘。。。你可以把它理解为一个工具集，为我们开发者提供的一套工具集，以方便我们构建稳健的分布式系统。利用这个工具集，我们能够轻松的实现分布式系统实际中常用到的一些设计模式。</p>
<ul>
<li>配置管理</li>
<li>服务注册与发现</li>
<li>断路器</li>
<li>智能路由</li>
<li>控制总线</li>
<li>全局锁</li>
<li>分布式会话管理</li>
<li>分布式集群状态管理</li>
</ul>
<p>Spring Cloud是构建在Spring Boot的基础之上的。通过引入一大堆基于Spring Boot相关的依赖来为单独的一个应用提供对应的功能。我们可以利用Spring Cloud提供的基础实现快速体验一下，当然了，如果我们以后得心应手了，我们可以轻松的做出自己的解决方案，或者对默认方案做一些干预，以达到我们自己的目的。</p>
<h1 id="愉快的开始吧"><a href="#愉快的开始吧" class="headerlink" title="愉快的开始吧"></a>愉快的开始吧</h1><p>先看一看这个POM文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;parent&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;1.3.7.RELEASE&lt;/version&gt;</div><div class="line">&lt;/parent&gt;</div><div class="line">&lt;dependencyManagement&gt;</div><div class="line">    &lt;dependencies&gt;</div><div class="line">        &lt;dependency&gt;</div><div class="line">            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;Brixton.SR6&lt;/version&gt;</div><div class="line">            &lt;type&gt;pom&lt;/type&gt;</div><div class="line">            &lt;scope&gt;import&lt;/scope&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">    &lt;/dependencies&gt;</div><div class="line">&lt;/dependencyManagement&gt;</div><div class="line">&lt;dependencies&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">&lt;/dependencies&gt;</div></pre></td></tr></table></figure></p>
<p>可以看到，我们只是依赖了一个“spring-cloud-dependencies”，其他的依赖都会在父依赖中体现，也就是在这里：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;parent&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;1.3.7.RELEASE&lt;/version&gt;</div><div class="line">&lt;/parent&gt;</div></pre></td></tr></table></figure></p>
<p>这个例子中使用了config client和eureka。当然了，通过改变artifactId也可以轻松导入其他的功能依赖。<br>我们这样做的方式目前来说是最推荐的，通过依赖管理的方式，我们可以避免遇到更多的坑。</p>
<h1 id="有啥特性呢"><a href="#有啥特性呢" class="headerlink" title="有啥特性呢"></a>有啥特性呢</h1><p>Spring Cloud针对分布式系统设计中典型的用例提供了非常漂亮的开箱即用实现。对于其他不常用的应用场景，Spring Cloud也提供了一些扩展机制，我们可以轻松的搞掉这些场景。</p>
<ul>
<li>分布式/版本化的配置管理</li>
<li>服务的注册发现</li>
<li>路由</li>
<li>服务的端到端的调用</li>
<li>负载均衡</li>
<li>断路器</li>
<li>全局锁</li>
<li>分布式选举和集群状态管理</li>
<li>分布式消息</li>
</ul>
<p>Spring Cloud是通过声明似的方式来获取功能的支持的。通常来说，我们只需要改变相关的依赖，并且加上相关的注解，就可以获取对应的功能。<br>举例来说，在上面的依赖基础之上，我们定义一个具有服务注册和发现特性的应用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@SpringBootApplication</div><div class="line">@EnableDiscoveryClient</div><div class="line">public class Application &#123;</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		SpringApplication.run(Application.class, args);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="Spring-Cloud中的主要项目"><a href="#Spring-Cloud中的主要项目" class="headerlink" title="Spring Cloud中的主要项目"></a>Spring Cloud中的主要项目</h1><h2 id="Spring-Cloud-Config"><a href="#Spring-Cloud-Config" class="headerlink" title="Spring Cloud Config"></a>Spring Cloud Config</h2><p>主要解决外部配置管理的问题。可以通过Git来提供配置源。所有的配置资源会直接映射为Spring的环境变量。所有的配置可以通过http的方式进行访问，所以，对于异构语言平台来说也是一个福音。可以从统一的地方获取配置信息。</p>
<h2 id="Spring-Cloud-Netflix"><a href="#Spring-Cloud-Netflix" class="headerlink" title="Spring Cloud Netflix"></a>Spring Cloud Netflix</h2><p>主要是为了方便与Netflix OSS的组件进行集成。比如说：Eureka，Hystrix，Zuul，Archaius等等。</p>
<h2 id="Spring-Cloud-Bus"><a href="#Spring-Cloud-Bus" class="headerlink" title="Spring Cloud Bus"></a>Spring Cloud Bus</h2><p>提供了一个消息总线，用来为服务与服务实例之间进行分布式消息传递。当我们需要跨领域集群进行状态交互是非常有用的。比如说，如果配置中心配置发生变更后，会有变更事件通知给所有订阅配置服务的应用。这种变更事件就会通过事件总线来进行传输。</p>
<h2 id="Spring-Cloud-for-Cloud-Foundry"><a href="#Spring-Cloud-for-Cloud-Foundry" class="headerlink" title="Spring Cloud for Cloud Foundry"></a>Spring Cloud for Cloud Foundry</h2><p>方便与Pivotal Cloudfoundry集成。集成了服务发现，也可以轻松的实现单点登录和OAuth2，可以创建一个Cloundfoundry的服务broker。</p>
<h2 id="Spring-Cloud-Cloud-Foundry-Service-Broker"><a href="#Spring-Cloud-Cloud-Foundry-Service-Broker" class="headerlink" title="Spring Cloud Cloud Foundry Service Broker"></a>Spring Cloud Cloud Foundry Service Broker</h2><p>提供一个创建服务broker的切入点，服务broker可以管理可以托管于Cloud Foundry的服务。</p>
<h2 id="Spring-Cloud-Cluster"><a href="#Spring-Cloud-Cluster" class="headerlink" title="Spring Cloud Cluster"></a>Spring Cloud Cluster</h2><p>为Zookeeper，Redis，Hazelcast，Consul提供了分布式选举和通用的状态交互模式的实现。</p>
<h2 id="Spring-Cloud-Consul"><a href="#Spring-Cloud-Consul" class="headerlink" title="Spring Cloud Consul"></a>Spring Cloud Consul</h2><p>提供了使用Hashicorp Consul实现的服务发现和配置管理。</p>
<h2 id="Spring-Cloud-Security"><a href="#Spring-Cloud-Security" class="headerlink" title="Spring Cloud Security"></a>Spring Cloud Security</h2><p>主要是安全实现，比如给客户端提供OAuth2的安全机制等。</p>
<h2 id="Spring-Cloud-Sleuth"><a href="#Spring-Cloud-Sleuth" class="headerlink" title="Spring Cloud Sleuth"></a>Spring Cloud Sleuth</h2><p>主要用于分布式tracing，可以与Zipkin，Htrace，ELK一起工作。</p>
<h2 id="Spring-Cloud-Data-Flow"><a href="#Spring-Cloud-Data-Flow" class="headerlink" title="Spring Cloud Data Flow"></a>Spring Cloud Data Flow</h2><p>用于服务编排的一个工具。</p>
<h2 id="Spring-Cloud-Stream"><a href="#Spring-Cloud-Stream" class="headerlink" title="Spring Cloud Stream"></a>Spring Cloud Stream</h2><p>一个轻量级的事件驱动的微服务的框架。</p>
<h2 id="Spring-Cloud-Stream-App-Starters"><a href="#Spring-Cloud-Stream-App-Starters" class="headerlink" title="Spring Cloud Stream App Starters"></a>Spring Cloud Stream App Starters</h2><p>主要用于与外部系统的集成。</p>
<h2 id="Spring-Cloud-Task"><a href="#Spring-Cloud-Task" class="headerlink" title="Spring Cloud Task"></a>Spring Cloud Task</h2><p>主要是为了设计一些生命周期较短的微服务，以方便执行一些有限的数据处理。</p>
<h2 id="Spring-Cloud-Task-App-Starters"><a href="#Spring-Cloud-Task-App-Starters" class="headerlink" title="Spring Cloud Task App Starters"></a>Spring Cloud Task App Starters</h2><p>主要是方便Task与应用集成。</p>
<h2 id="Spring-Cloud-Zookeeper"><a href="#Spring-Cloud-Zookeeper" class="headerlink" title="Spring Cloud Zookeeper"></a>Spring Cloud Zookeeper</h2><p>类似于Consul，只不过是基于Zookeeper的。</p>
<h2 id="Spring-Cloud-for-Amazon-Web-Services"><a href="#Spring-Cloud-for-Amazon-Web-Services" class="headerlink" title="Spring Cloud for Amazon Web Services"></a>Spring Cloud for Amazon Web Services</h2><p>主要是为了方便Amazon Web Services集成。</p>
<h2 id="Spring-Cloud-Connectors"><a href="#Spring-Cloud-Connectors" class="headerlink" title="Spring Cloud Connectors"></a>Spring Cloud Connectors</h2><p>主要是为了方便PAAS平台连接后端的数据库或者消息broker。</p>
<h2 id="Spring-Cloud-Starters"><a href="#Spring-Cloud-Starters" class="headerlink" title="Spring Cloud Starters"></a>Spring Cloud Starters</h2><p>主要是为了使依赖管理做起来更加的容易。</p>
<h2 id="Spring-Cloud-CLI"><a href="#Spring-Cloud-CLI" class="headerlink" title="Spring Cloud CLI"></a>Spring Cloud CLI</h2><p>一套命令行工具，可以轻松的基于groovy语言创建一些服务。</p>
]]></content>
    </entry>
    
  
  
</search>
